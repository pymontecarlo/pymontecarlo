{% extends 'base.html' %}

{% block article %}
    {{ macro_author() }}
    ({{ macro_year() }}).
    {{ macro_title() }}.
    {{ macro_journal() }},
    {{ macro_volume() }}{%- if number -%}({{ macro_number() }}){%- endif -%},
    {{ macro_pages() }}.
{% endblock %}

{% block book %}
    {%- if not editor -%}
        {{ macro_author() }}
        ({{ macro_year() }}).
        {{ macro_title() }}
        {%- if edition %} ({{ macro_edition() }} ed.){%- endif -%}.
    {%- elif editor and not author -%}
        {{ macro_editor() }}
        ({%- if editor|length > 1 -%}Eds.{%- else -%}Ed.{%- endif -%}).
        ({{ macro_year() }}).
        {{ macro_title() }}
        {%- if edition %} ({{ macro_edition() }} ed.){%- endif -%}.
    {%- elif editor and author -%}
        {{ macro_author() }}
        ({{ macro_year() }}).
        {{ macro_title() }}
        {%- if edition %} ({{ macro_edition() }} ed.){%- endif -%}.
        {{ macro_editor() }}
        ({%- if editor|length > 1 -%}Eds.{%- else -%}Ed.{%- endif -%}).
    {% endif %}
    
    {{ macro_address() }}:
    {{ macro_publisher() }}.
{% endblock %}

{% block inbook %}
    {{ macro_author() }}
    ({{ macro_year() }}).
    {{ macro_title() }}.
    In
    {{ macro_editor() }}
    ({%- if editor|length > 1 -%}Eds.{%- else -%}Ed.{%- endif -%}),
    {{ macro_booktitle() }}
    {%- if edition -%}&nbsp;({{ macro_edition() }} ed.){%- endif %}
    (pp. {{ macro_pages() }}).
    {{ macro_address() }}:
    {{ macro_publisher()}}.
{% endblock %}

{% block incollection %}
    {{ macro_author() }}
    ({{ macro_year() }}).
    {{ macro_title() }}.
    In
    {{ macro_booktitle() }}
    {%- if edition -%}&nbsp;({{ macro_edition() }} ed.){%- endif %}
    (Vol. {{ macro_volume() }}, pp. {{ macro_pages() }}).
    {{ macro_address() }}:
    {{ macro_publisher()}}.
{% endblock %}

{% block manual %}
    {{ macro_organization() }}.
    ({{ macro_year() }}).
    {{ macro_title() }}
    {%- if edition -%}&nbsp;({{ macro_edition() }} ed.){%- endif -%}.
    {{ macro_address() }}:
    {{ macro_author() }}.
{% endblock %}

{% block mastersthesis %}
    {{ macro_author() }}
    ({{ macro_year() }}).
    {{ macro_title() }}.
    (Unpublished master's dissertation).
    {{ macro_school() }},
    {{ macro_address() }}.
{% endblock %}

{% block misc %}
    {%- if author -%}{{ macro_author() }}{%- endif %}
    {% if year -%}({{ macro_year() }}).{%- endif %}
    {% if title -%}
        {%- if url -%}
            <a href="{{ url }}">{{ macro_title() }}</a>.
        {%- else -%}
            {{ macro_title() }}.
        {%- endif %}
    {%- endif %}
    {% if howpublished -%}{{ macro_howpublished() }}.{%- endif %}
    {% if note -%}{{ macro_note() }}.{%- endif %}
{% endblock %}

{% block phdthesis %}
    {{ macro_author() }}
    ({{ macro_year() }}).
    {{ macro_title() }}.
    (Unpublished doctoral dissertation).
    {{ macro_school() }},
    {{ macro_address() }}.
{% endblock %}

{% block proceedings %}
    {{ macro_editor() }}
    ({%- if editor|length > 1 -%}Eds.{%- else -%}Ed.{%- endif -%}).
    ({{ macro_year() }}).
    Proceedings from {{ macro_title() }}.
    {{ macro_address() }}:
    {{ macro_publisher() }}.
{% endblock %}

{% block inproceedings %}
    {{ macro_author() }}
    ({{ macro_year() }}).
    {{ macro_title() }}.
    Proceedings from {{ macro_booktitle() }}.
    {{ macro_editor() }}
    ({%- if editor|length > 1 -%}Eds.{%- else -%}Ed.{%- endif -%}).
    {{ macro_pages() }}.
{% endblock %}

{% block techreport %}
    {{ macro_institution() }}.
    ({{ macro_year() }}).
    {{ macro_title() }}
    {%- if edition -%}&nbsp;({{ macro_edition() }} ed.){%- endif -%}.
    {{ macro_address() }}:
    {{ macro_author() }}.
{% endblock %}
